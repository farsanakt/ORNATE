<%- include('../layouts/adminheader.ejs') %>

  <div class="container-scroller">

    <%- include('../layouts/adminsidebar.ejs') %>
    <style>

      .pagination {
          margin-top: 20px;
      }
      
      .pagination.page-item.page-link {
          border-radius: 5px;
          padding: 8px 15px;
          font-size: 14px;
          line-height: 1.42857143;
          color: #fff;
          background-color: #007bff;
          border-color: #007bff;
      }
      
      .pagination.page-item.active.page-link {
          background-color: #0056b3;
          border-color: #0056b3;
      }
      
      .pagination.page-item:first-child.page-link,
      .pagination.page-item:last-child.page-link {
          border-top-right-radius: 5px;
          border-bottom-right-radius: 5px;
      }
      
      .pagination.page-item:first-child.page-link,
      .pagination.page-item:first-child.page-link:hover,
      .pagination.page-item:first-child.page-link:focus {
          border-top-left-radius: 5px;
      }
      
          </style>
    <div class="container-fluid page-body-wrapper">

       

      <!-- partial -->

        <div class="main-panel">

          <div class="content-wrapper">
            
            <div class="w-100 container-fluid mb-5">
              <table class="table table-dark" style="border-radius: 10px;">
                  <thead class="text-center ">

                      <tr>
                          <th class="text-white">No</th>
                          <th class="text-white">Client Name</th>
                          <th class="text-white">Order Amount</th>
                           <th class="text-white">Payment Method</th>
                           <th class="text-white">Order Status</th>
                          <th class="text-white">Date</th>
                          <th class="text-white">Details</th>
                      </tr>

                  </thead>

                  <!-- Fetch data in dbs and show -->

                  <tbody class="text-center ">

                    <% if (orderData.length > 0) { %>

                      <% orderData.slice().forEach((order , ind)=>{ %>

                              <tr>

                                  <td><%= ind + 1 %></td>
                                  <td><%= order.deliveryAddress.name %></td>
                                  <td>â‚¹<%= order.orderAmount %></td>
                                  <td><%= order.payment %></td>
                                  <td><%= order.products[0].orderProStatus %></td>
                                  <td><%= order.orderDate.toString().split(' ').slice(0,4).join('  ') %></td>
                                  <td>

                                            <a href="/admin/orderDtails?id=<%= order._id %>">

                                            <button type="button" class="btn btn-outline-primary btn-icon-text">
                                            <i class="mdi mdi-file-check btn-icon-prepend"></i> View Details </button>

                                            </a>

                                </td>
                                  
                                  
                              </tr>


                          <% }) %>

                      <% } else { %>

                          <tr>
                              <td colspan="" class="text-danger ">Orders Not Found</td>
                          </tr>

                      <% } %>

                  </tbody>
              </table>
              <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center">
                  <% if (currentPage > 1) { %>
                    <li class="page-item"><a class="page-link" href="?page=<%= currentPage - 1 %>">&laquo; Previous</a></li>
                  <% } %>
                  <% for (let i = 1; i <= totalPages; i++) { %>
                    <li class="page-item <%= currentPage == i? 'active' : '' %>"><a class="page-link" href="?page=<%= i %>"><%= i %></a></li>
                  <% } %>
                  <% if (currentPage < totalPages) { %>
                    <li class="page-item"><a class="page-link" href="?page=<%= currentPage + 1 %>">Next &raquo;</a></li>
                  <% } %>
                </ul>
              </nav>
              <!-- End table -->
          </div>
           
          
          </div>

        </div>

    </div>

</div> <!--End container scroller-->






